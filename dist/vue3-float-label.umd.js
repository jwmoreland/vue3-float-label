(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.Vue3FloatLabel=r(e.Vue))})(this,function(e){"use strict";const r={key:0,class:"float-label__label float-label--no-click"},y={class:"float-label__label__text"},h=["for"],g={key:0,class:"float-label__label__bg"},E={class:"float-label__label__text"},v="[type=date], [type=datetime-local], [type=datetime], [type=email], [type=month], [type=number], [type=password], [type=search], [type=tel], [type=text], [type=time], [type=url], [type=week], textarea, select";return{__name:"FloatLabel",props:{label:{type:String,default:""},float:{type:Boolean,default:null},onFocus:{type:Boolean,default:!1}},setup(k){const n=k;let p=e.ref(null),u=e.ref(""),s=e.ref("");e.ref(n.label);let l=e.ref({}),c=e.ref(""),a=e.ref(""),f=e.ref(!1),d=e.ref(!1),m=e.ref(!1);const b=e.computed(()=>n.label),x=e.computed(()=>a.value==="select"?!0:s.value&&u.value!==s.value),F=e.computed(()=>{let t=!1;return n.float?t=!0:t=f.value&&f.value!=="0",t}),_=()=>{u.value=b.value?n.label:s.value},B=()=>l.value.getAttribute("id"),V=()=>("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,o=>(o^crypto.getRandomValues(new Uint8Array(1))[0]&15>>o/4).toString(16)),L=()=>{switch(a.value){case"input":case"textarea":return l.value.placeholder;case"select":let t=l.value.querySelector("option:disabled");return t?t.innerHTML:"";default:return""}},T=()=>{c.value||(c.value=V(),l.value.id=c.value)},C=()=>{a.value==="select"?l.value.addEventListener("change",i):l.value.addEventListener("input",i)},w=()=>{a.value==="select"?l.value.removeEventListener("change",i):l.value.removeEventListener("input",i)},i=t=>{f.value=t.target.value.length>0};return e.watch(b,(t,o)=>{_()}),e.onMounted(()=>{l.value=p.value.querySelector(v),d.value=!!l.value,m.value=n.float===null,d.value?(c.value=B(),a.value=l.value?l.value.tagName.toLowerCase():"",f.value=!!l.value.value,s.value=L(),T(),m.value===!0&&setTimeout(()=>{C()},200)):s.value="",_()}),e.onBeforeUnmount(()=>{d.value&&w()}),(t,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["float-label",{"float-label--fade-anim":x.value,"float-label--on-focus":n.onFocus,"float-label--fixed":F.value}]),ref_key:"root",ref:p},[e.renderSlot(t.$slots,"default"),e.unref(a)===""?(e.openBlock(),e.createElementBlock("div",r,[e.createElementVNode("span",y,e.toDisplayString(e.unref(u)),1)])):(e.openBlock(),e.createElementBlock("label",{key:1,class:e.normalizeClass(["float-label__label",{"float-label--no-click":e.unref(a)==="select"}]),for:e.unref(c)},[e.unref(a)==="textarea"?(e.openBlock(),e.createElementBlock("span",g)):e.createCommentVNode("",!0),o[0]||(o[0]=e.createTextVNode()),e.createElementVNode("span",E,e.toDisplayString(e.unref(u)),1)],10,h))],2))}}});
