(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue")):typeof define=="function"&&define.amd?define(["vue"],c):(e=typeof globalThis<"u"?globalThis:e||self,e["vue3-float-label"]=c(e.Vue))})(this,function(e){"use strict";const c="",I="",h={key:0,class:"float-label__label float-label--no-click"},g={class:"float-label__label__text"},E=["for"],x={key:0,class:"float-label__label__bg"},k=e.createTextVNode(),v={class:"float-label__label__text"},F={__name:"FloatLabel",props:{label:{type:String,default:""},float:{type:Boolean,default:null},onFocus:{type:Boolean,default:!1}},setup(d){const o=d;let m=e.ref(null),f=e.ref(""),n=e.ref("");e.ref(o.label);let t=e.ref({}),s=e.ref(""),a=e.ref(""),u=e.ref(!1),p=e.ref(!1),b=e.ref(!1);const B="[type=date], [type=datetime-local], [type=datetime], [type=email], [type=month], [type=number], [type=password], [type=search], [type=tel], [type=text], [type=time], [type=url], [type=week], textarea, select",_=e.computed(()=>o.label),L=e.computed(()=>a.value==="select"?!0:n.value&&f.value!==n.value),T=e.computed(()=>{let l=!1;return o.float?l=!0:l=u.value&&u.value!=="0",l}),y=()=>{f.value=_.value?o.label:n.value},V=()=>t.value.getAttribute("id"),C=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r=>(r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16)),S=()=>{switch(a.value){case"input":case"textarea":return t.value.placeholder;case"select":let l=t.value.querySelector("option:disabled");return l?l.innerHTML:"";default:return""}},w=()=>{s.value||(s.value=C(),t.value.id=s.value)},N=()=>{a.value==="select"?t.value.addEventListener("change",i):t.value.addEventListener("input",i)},U=()=>{a.value==="select"?t.value.removeEventListener("change",i):t.value.removeEventListener("input",i)},i=l=>{u.value=l.target.value.length>0};return e.watch(_,(l,r)=>{y()}),e.onMounted(()=>{t.value=m.value.querySelector(B),p.value=!!t.value,b.value=o.float===null,p.value?(s.value=V(),a.value=t.value?t.value.tagName.toLowerCase():"",u.value=!!t.value.value,n.value=S(),w(),b.value===!0&&setTimeout(()=>{N()},200)):n.value="",y()}),e.onBeforeUnmount(()=>{p.value&&U()}),(l,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["float-label",{"float-label--fade-anim":e.unref(L),"float-label--on-focus":o.onFocus,"float-label--fixed":e.unref(T)}]),ref_key:"root",ref:m},[e.renderSlot(l.$slots,"default"),e.unref(a)===""?(e.openBlock(),e.createElementBlock("div",h,[e.createElementVNode("span",g,e.toDisplayString(e.unref(f)),1)])):(e.openBlock(),e.createElementBlock("label",{key:1,class:e.normalizeClass(["float-label__label",{"float-label--no-click":e.unref(a)==="select"}]),for:e.unref(s)},[e.unref(a)==="textarea"?(e.openBlock(),e.createElementBlock("span",x)):e.createCommentVNode("",!0),k,e.createElementVNode("span",v,e.toDisplayString(e.unref(f)),1)],10,E))],2))}};return{install:(d,o)=>{d.component("FloatLabel",F)}}});
